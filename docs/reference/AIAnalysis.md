## 1. AI 분석 (Unified LLM Analysis)

**파일**: `engine/llm_analyzer.py`

#### 통합 분석 (Gemini / Z.ai)
단일 LLM 호출로 뉴스 감성 분석과 VCP 기술적 분석을 통합 수행합니다. 비용 효율성과 속도를 최적화한 구조입니다.

```python
# 분석 항목:
- 뉴스 종합 분석 → 호재 강도 평가
- VCP 패턴 데이터(점수/비율) 해석
- 매매 추천 (BUY / HOLD / SELL)
- 신뢰도 점수 (0~100)
- 종합 투자 의견 (Reason)
```

#### 프롬프트 구조 (Context Injection):
AI에게 **계산된 VCP 지표**를 직접 주입하여 기술적 분석 능력을 강화합니다.

```
[시장 정보]
- 시장 상태 요약
- KOSPI/KOSDAQ 지수

[종목 정보: {name}]
- 기술적 지표: 현재가, 등락률, 거래대금
- **VCP 분석 데이터**: VCP 점수, 수급 수축 비율 (Contraction Ratio)
- 수급 데이터: 외인/기관 5일 순매수 합계

[최신 뉴스]
1. {news_title_1} (가중치: {weight})
...

→ JSON 출력: {action, score, confidence, reason}
```
*Note: 목표가/손절가는 알고리즘(`position_sizer.py`)이 산출한 값을 사용하며, AI는 이에 대한 정성적 판단을 보조합니다.*

---

## 2. 뉴스 수집 시스템

**파일**: `engine/collectors.py` → `EnhancedNewsCollector`

**수집 소스**:
| 소스             | 방법               | 신뢰도 |
| ---------------- | ------------------ | ------ |
| 네이버 금융      | 종목별 뉴스 크롤링 | 0.9    |
| 네이버 뉴스 검색 | 키워드 검색        | 0.85   |
| 다음 뉴스        | 검색 크롤링        | 0.8    |

**주요 언론사 가중치**:
```python
MAJOR_SOURCES = {
    "한국경제": 0.9,
    "매일경제": 0.9,
    "머니투데이": 0.85,
    "서울경제": 0.85,
    "이데일리": 0.85,
    "연합뉴스": 0.85,
    "뉴스1": 0.8,
}
```

**뉴스 분석 흐름**:
```
네이버 금융 크롤링 → 본문 수집 → LLM 감성 분석 → 호재 점수 산출
```